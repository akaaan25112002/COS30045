<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="description"    content="Data Visualisation"/>
        <meta name="keywords"    content="HTML, CSS, D3"/>
        <meta name="author"    content="Anh Khoa"/>

        <title>Task 2.2 D3 Drawing with Data - Bar Chart</title>

        <script src="https://d3js.org/d3.v7.min.js"></script>

    </head>

    <body>
        <h1>The D3 Journey starts here...</h1>

        <script>
        var w = 500;
        var h = 150;
        var padding = 1;

        var dataset = [14,5,26,23,9,12,18,25];
            
        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", w)
                    .attr("height", h)

        var barWidth = w / dataset.length - padding;
        
        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", function(d, i){
                return i * (w/dataset.length)
            })
            .attr("y", function(d){
                return  h-d*4;
            })
            .attr("width", barWidth)
            .attr("height", function(d){
                return d * 4;
            })
            .attr("fill", "green");

        /* Create the labels*/
        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(d => d)
            .attr("x", (d, i) => i * (w / dataset.length) + barWidth / 2)
            .attr("y", d => h - d * 4 - 5)
            .attr("text-anchor", "middle")
            .attr("font-size", "12px")
            .attr("fill", "black");
        </script>

        <br>
        <bf>
        <footer style="color: grey">COS30045 Data Visualisation<br>
            Joe Bloggs</footer>
    </body>
</html>